var tool=function(){var a={touchWP:function(a,b,c,d,e){function f(a){switch(a){case"touchstart":return"MSPointerDown";case"touchmove":return"MSPointerMove";case"touchend":return"MSPointerUp"}return""}e=e||!1,e?window.navigator.msPointerEnabled?a.removeEventListener(f(b),c,d):a.removeEventListener(b,c,d):window.navigator.msPointerEnabled?a.addEventListener(f(b),c,d):a.addEventListener(b,c,d)}};return a}(),worker=function(){var a={getLocalStorage:function(){src=JSON.parse(localStorage.getItem("openAudio")),render.pageIni(),render.createAudio(),render.playerIni()}};return a}(),render=function(){var a={createAudio:function(){var a=document.createElement("audio"),b=document.createElement("source");a.controls="controls",b.src="../"+src.____src,b.type="audio/"+src.____extension,a.id="audio",a.appendChild(b),c.appendChild(a),h.innerHTML=src.____name},pageIni:function(){d.style.width=l+"px",d.style.height=l+"px",g.style.height=l/3+"px",g.style.top=l+20+"px",b.style.top=(k-l/3*4-20)/2+"px"},playerIni:function(){function a(){var c=document.createElement("img"),e=document.getElementById("play-icon");l.play(),tool.touchWP(d,"touchend",a,!1,!0),tool.touchWP(d,"touchend",b),d.removeChild(e),c.id="play-icon",c.src="./img/play.png",d.appendChild(c)}function b(){var c=document.createElement("img"),e=document.getElementById("play-icon");l.pause(),tool.touchWP(d,"touchend",b,!1,!0),tool.touchWP(d,"touchend",a),d.removeChild(e),c.id="play-icon",c.src="./img/pause.png",d.appendChild(c)}function c(){l.duration&&(clearInterval(m),f.max=l.duration)}function g(){f.value=l.currentTime,i.innerHTML=~~l.currentTime%60<10?~~(~~l.currentTime/60)+":0"+~~l.currentTime%60+"/"+k:~~(~~l.currentTime/60)+":"+~~l.currentTime%60+"/"+k}var h,k,l=document.getElementById("audio"),m=setInterval(c,50);l.preload="auto",f.value=l.currentTime,e.value=100*l.volume,tool.touchWP(l,"durationchange",function(){k=~~(~~l.duration/60)+":"+~~l.duration%60,i.innerHTML="0:00/"+k}),tool.touchWP(d,"touchend",a),tool.touchWP(e,"change",function(){l.volume=.01*e.value}),tool.touchWP(f,"change",function(){l.currentTime=f.value,i.innerHTML=~~l.currentTime%60<10?~~(~~l.currentTime/60)+":0"+~~l.currentTime%60+"/"+k:~~(~~l.currentTime/60)+":"+~~l.currentTime%60+"/"+k}),tool.touchWP(l,"play",function(){f.value=100,h=setInterval(g,200)}),tool.touchWP(l,"pause",function(){clearInterval(h)}),tool.touchWP(f,"touchstart",function(){l.paused||clearInterval(h)}),tool.touchWP(f,"touchend",function(){l.paused||(h=setInterval(g,200))}),tool.touchWP(j,"touchend",function(){function a(){l.currentTime=0,l.play()}this.style.opacity?(this.style.opacity="",tool.touchWP(l,"ended",a,!1,!0)):(this.style.opacity="0.8",tool.touchWP(l,"ended",a))})}},b=document.getElementById("view"),c=document.getElementById("stage"),d=(document.getElementById("curtain"),document.getElementById("play")),e=document.getElementById("volume"),f=document.getElementById("time"),g=document.getElementById("control"),h=document.getElementById("name"),i=document.getElementById("leng"),j=document.getElementById("loop"),k=document.documentElement.clientHeight,l=document.documentElement.clientWidth;return a}(),src;worker.getLocalStorage();